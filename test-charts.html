<!--
/**
 * 📦 檔案：test-charts.html
 * 🕒 最後更新：2025-06-12T22:42:05+08:00
 * 🧑‍💻 作者/更新者：DigitalSentinel (數位哨兵)
 * 🔢 版本：v1.0.0
 * 📝 摘要：圖表顯示問題修正測試頁面
 * 
 * 🎯 影響範圍：圖表顯示與響應式設計測試
 * ✅ 測試狀態：已完成基本功能測試
 * 🔒 安全考量：僅為測試頁面，無敏感資料
 * 📊 效能影響：輕量級測試頁面
 */
-->
<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>圖表測試頁面</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .chart-container {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 0.75rem;
        padding: 0;
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        transition: all 0.3s ease;
        min-height: 450px;
        height: auto;
        overflow: visible;
        border: 1px solid rgba(229, 231, 235, 0.8);
      }

      .chart-container:hover {
        transform: translateY(-2px);
        box-shadow:
          0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }

      .chart-container canvas {
        width: 100% !important;
        height: 100% !important;
        min-height: 350px !important;
        display: block;
      }

      .chart-title {
        font-weight: 600;
        font-size: 1.1rem;
        color: #374151;
        border-bottom: 1px solid #e5e7eb;
        margin-bottom: 0;
        padding: 1rem 1.5rem;
        background: rgba(249, 250, 251, 0.9);
        border-radius: 0.75rem 0.75rem 0 0;
        backdrop-filter: blur(10px);
      }

      #loss-summary {
        transition: all 0.3s ease;
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        margin-top: 3rem !important;
        border: 1px solid rgba(229, 231, 235, 0.6);
      }
    </style>
  </head>
  <body class="bg-gray-50 p-8">
    <div class="max-w-6xl mx-auto">
      <h1 class="text-3xl font-bold text-center mb-8">圖表測試頁面</h1>

      <!-- 圖表區域 -->
      <div
        class="data-visualization grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 mb-8"
      >
        <div class="chart-container bg-white rounded-lg shadow-card">
          <div class="chart-title p-4">測試券商總責任額比較</div>
          <div class="p-4 pb-6" style="position: relative; height: 400px">
            <canvas id="test-broker-chart"></canvas>
          </div>
        </div>

        <div class="chart-container bg-white rounded-lg shadow-card">
          <div class="chart-title p-4">測試時間趨勢</div>
          <div class="p-4 pb-6" style="position: relative; height: 400px">
            <canvas id="test-time-chart"></canvas>
          </div>
        </div>
      </div>

      <!-- 對帳單模擬區域 -->
      <div
        class="lg:col-span-2 bg-white p-8 rounded-2xl shadow-card hover-lift fade-in border border-neutral-200"
      >
        <div class="flex items-center mb-6">
          <div
            class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4"
          >
            <i class="fas fa-receipt text-blue-600 text-xl"></i>
          </div>
          <h3 class="text-2xl font-bold text-neutral-800">測試對帳單區域</h3>
        </div>

        <div
          class="bg-gradient-to-r from-neutral-50 to-neutral-100 p-4 rounded-xl"
        >
          <table class="min-w-full">
            <thead>
              <tr class="border-b border-neutral-200 bg-neutral-50/50">
                <th
                  class="text-left text-neutral-700 py-3 font-semibold px-4 text-sm"
                >
                  項目
                </th>
                <th
                  class="text-right text-neutral-700 py-3 font-semibold px-4 text-sm"
                >
                  數值
                </th>
              </tr>
            </thead>
            <tbody class="divide-y divide-neutral-100/70">
              <tr class="hover:bg-neutral-50/30 transition-colors duration-200">
                <td class="px-4 py-3 text-sm font-medium text-neutral-700">
                  股票名稱
                </td>
                <td
                  class="px-4 py-3 text-sm font-semibold text-neutral-900 text-right"
                >
                  測試股票
                </td>
              </tr>
              <tr class="hover:bg-neutral-50/30 transition-colors duration-200">
                <td class="px-4 py-3 text-sm font-medium text-neutral-700">
                  責任額度
                </td>
                <td class="px-4 py-3 text-sm text-red-600 font-bold text-right">
                  1,000,000 元
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 損益總結區 -->
        <div
          id="loss-summary"
          class="p-6 mt-12 border-t-4 border-blue-500 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl transition-all duration-300 hover:shadow-md hover:scale-[1.02] transform"
        >
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center">
              <i
                class="fas fa-calculator text-blue-600 text-2xl mr-3 flex-shrink-0"
              ></i>
              <span class="text-xl font-semibold text-neutral-800"
                >總計損益：</span
              >
            </div>
            <span class="text-xl font-bold text-red-600"
              >-50,000 元 (5.0%)</span
            >
          </div>
          <div class="text-sm text-neutral-500 flex items-start">
            <i class="fas fa-info-circle mr-2 mt-0.5 flex-shrink-0"></i>
            <p class="leading-relaxed">
              測試說明：檢查間距是否正確，文字是否可以正常顯示。
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // 測試圖表數據
      const testBrokerData = {
        labels: ['券商A', '券商B', '券商C', '券商D', '券商E'],
        datasets: [
          {
            label: '總責任額 (萬元)',
            data: [12000, 8500, 6200, 4800, 3200],
            backgroundColor: 'rgba(26, 93, 122, 0.7)',
            borderColor: 'rgba(26, 93, 122, 1)',
            borderWidth: 1,
          },
        ],
      };

      const testTimeData = {
        labels: ['2024/01', '2024/02', '2024/03', '2024/04', '2024/05'],
        datasets: [
          {
            label: '平均責任額 (萬元)',
            data: [5500, 6200, 5800, 6500, 7200],
            backgroundColor: 'rgba(226, 62, 87, 0.2)',
            borderColor: 'rgba(226, 62, 87, 1)',
            borderWidth: 2,
            tension: 0.3,
            fill: true,
          },
        ],
      };

      // 創建測試圖表
      setTimeout(() => {
        const brokerCtx = document.getElementById('test-broker-chart');
        const timeCtx = document.getElementById('test-time-chart');

        if (brokerCtx) {
          new Chart(brokerCtx, {
            type: 'bar',
            data: testBrokerData,
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { display: true, position: 'top' },
              },
              scales: {
                y: { beginAtZero: true },
              },
            },
          });
        }

        if (timeCtx) {
          new Chart(timeCtx, {
            type: 'line',
            data: testTimeData,
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { display: true, position: 'top' },
              },
              scales: {
                y: { beginAtZero: true },
              },
            },
          });
        }
      }, 100);
    </script>
  </body>
</html>
